<div id="graphOptions" x-data="graphOptions">
    <span class="is-size-7">Coloc Posterior Probability:</span> <br />
    <div class="ml-4">
        <label class="radio is-size-7">
            <input 
                type="radio" 
                name="colocType"
                value="strong"
                x-model="colocType"
                @change="$store.graphOptionStore.colocType = 'strong'"
            />
            <span>Strong (h4>0.8)</span>
        </label>
        <label class="radio is-size-7">
            <input 
                type="radio" 
                name="colocType"
                value="moderate"
                x-model="colocType"
                @change="$store.graphOptionStore.colocType = 'moderate'"
            />
            <span>Moderate (h4>0.6)</span>
        </label>
    </div>
    <hr class="divider mt-0 mb-0">

    <span class="is-size-7">Study P-value: <span x-text="Number(pValue).toExponential()"></span></span> <br />
    <input class="slider is-four-fifths mt-0 mb-0" x-model="pValueIndex" @input="updatePValue()" type="range" step="1" min="0" max="7">
    <hr class="divider mt-0 mb-0">

    <label class="checkbox mt-1 is-size-7"> <input @change="$store.graphOptionStore.includeTrans = includeTrans" x-model="includeTrans" type="checkbox" /> Include Trans Markers</label> <br />
    <hr class="divider mt-0 mb-0">

    <!-- Trait Type Selection -->
    <span class="is-size-7 has-text-weight-bold">Trait Types</span>
    <div class="ml-4">
        <div>
            <label class="radio is-size-7">
                <input 
                    type="radio" 
                    name="traitType"
                    value="all"
                    x-model="traitType"
                    @change="$store.graphOptionStore.traitType = traitType"
                />
                <span>All Traits</span>
            </label>
        </div>
        <div>
            <label class="radio is-size-7" :class="{ 'has-text-grey-light': Object.values($store.graphOptionStore.categories).some(c => c) }">
                <input 
                    type="radio" 
                    name="traitType"
                    value="molecular"
                    x-model="traitType"
                    :disabled="Object.values($store.graphOptionStore.categories).some(c => c)"
                    @change="$store.graphOptionStore.traitType = traitType"
                />
                <span>Molecular Only</span>
            </label>
        </div>
        <div>
            <label class="radio is-size-7">
                <input 
                    type="radio" 
                    name="traitType"
                    value="phenotype"
                    x-model="traitType"
                    @change="$store.graphOptionStore.traitType = traitType"
                />
                <span>Phenotype Only</span>
            </label>
        </div>
    </div>
    <hr class="divider mt-0 mb-0">

    <!-- Categories Section -->
    <span class="is-size-7 has-text-weight-bold">Trait Categories</span>
    <div class="ml-4">
        <template x-for="category in Object.keys($store.graphOptionStore.categories)" :key="category">
            <div>
                <label class="checkbox is-size-7" :class="{ 'has-text-grey-light': $store.graphOptionStore.traitType === 'molecular' }">
                    <input 
                        type="checkbox" 
                        :checked="$store.graphOptionStore.categories[category]"
                        :disabled="$store.graphOptionStore.traitType === 'molecular'"
                        @change="
                            $store.graphOptionStore.categories[category] = !categories[category];
                            if ($store.graphOptionStore.traitType === 'molecular') {
                                $store.graphOptionStore.traitType = 'all';
                            }
                            if ($store.graphOptionStore.categories[category] && $store.graphOptionStore.traitType === 'molecular') {
                                $store.graphOptionStore.traitType = 'all';
                            }
                        "
                    />
                    <span x-text="category"></span>
                </label>
            </div>
        </template>
    </div>
</div>